<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discovering the Sun - an interactive story about solar energy</title>
    <link rel="stylesheet" href="shared/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Personalization Screen -->
    <div class="screen" id="personalizacao">
        <div class="container">
            <!-- Language Selector -->
            <div class="language-selector">
                <button class="lang-btn" id="langPt" onclick="setLanguage('pt')">
                    ðŸ‡§ðŸ‡· PortuguÃªs
                </button>
                <button class="lang-btn" id="langEn" onclick="setLanguage('en')">
                    ðŸ‡ºðŸ‡¸ English
                </button>
            </div>
            
            <div class="personalization-content">
                <div class="game-title">
                    <h1 id="gameTitle">ðŸŒŸ Discovering the Sun ðŸŒŸ</h1>
                    <p class="subtitle" id="gameSubtitle">Let's create your solar adventure!</p>
                </div>
                
                <div class="name-section">
                    <h2 id="nameQuestion">What's your name?</h2>
                    <input type="text" id="playerName" placeholder="Type your name here..." maxlength="20">
                </div>
                
                <div class="character-selection">
                    <h2 id="characterQuestion">Choose your character:</h2>
                    <div class="character-options">
                <div class="character-option" onclick="selectCharacter('curioso')">
                    <div class="character-avatar curioso">
                        <img src="shared/assets/bodies/pj1.png" alt="Curious Character">
                    </div>
                </div>
                <div class="character-option" onclick="selectCharacter('aventureiro')">
                    <div class="character-avatar aventureiro">
                        <img src="shared/assets/bodies/pj2.png" alt="Adventurer Character">
                    </div>
                </div>
                <div class="character-option" onclick="selectCharacter('explorador')">
                    <div class="character-avatar explorador">
                        <img src="shared/assets/bodies/pj3.png" alt="Explorer Character">
                    </div>
                </div>
                <div class="character-option" onclick="selectCharacter('inventor')">
                    <div class="character-avatar inventor">
                        <img src="shared/assets/bodies/pj4.png" alt="Inventor Character">
                    </div>
                </div>
                    </div>
                </div>
                
                <button id="startAdventureBtn" onclick="iniciarAventura()" class="btn btn-primary btn-large" disabled>
                    <i class="fas fa-play"></i>
                    <span id="startButtonText">Start Adventure!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Story Introduction Screen -->
    <div class="screen hidden" id="historia">
        <div class="cinematic-container">
            <!-- Background scene -->
            <div class="scene-background home-scene">
            </div>
            
            <!-- Characters in scene -->
            <div class="scene-characters">
                <div class="character-spotlight lucas-spotlight">
                    <div class="lucas-avatar-cinematic">
                        <img id="playerCharacterImage" src="shared/assets/bodies/pj1.png" alt="Player Character">
                        <div class="character-shadow"></div>
                    </div>
                </div>
                
                <div class="character-spotlight npc-spotlight">
                    <div class="npc-avatar-cinematic tio">
                        <img src="characters/tio-joao/assets/body/tioJoao.png" alt="Uncle JoÃ£o">
                        <div class="character-shadow"></div>
                    </div>
                </div>
            </div>
            
            <!-- Cinematic dialogue system -->
            <div class="cinematic-dialogue-system">
                <div class="dialogue-container">
                    <div class="dialogue-box cinematic-dialogue" id="dialogueBox">
                        <div class="speaker-info">
                            <div class="speaker-avatar" id="speakerAvatar"></div>
                            <div class="speaker-name" id="speakerName">Uncle JoÃ£o</div>
                        </div>
                        <div class="dialogue-text" id="dialogueText">
                            <span id="dialogueText">ðŸ’­ thinking...</span>
                        </div>
                        <div class="dialogue-controls">
                            <button class="continue-btn" id="continueBtn" onclick="nextDialogue()">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            
        </div>
    </div>

    <!-- Transition Screen -->
    <div class="screen hidden" id="transicao">
        <div class="transition-container">
            <div class="transition-content">
                <div class="loading-animation">
                    <div class="sun-loader">
                        <div class="sun-core"></div>
                        <div class="sun-rays">
                            <div class="ray"></div>
                            <div class="ray"></div>
                            <div class="ray"></div>
                            <div class="ray"></div>
                            <div class="ray"></div>
                            <div class="ray"></div>
                            <div class="ray"></div>
                            <div class="ray"></div>
                        </div>
                    </div>
                </div>
                <h2 class="transition-title" id="transitionTitle">Meeting the Friends...</h2>
                <p class="transition-subtitle" id="transitionSubtitle">Preparing the amazing conversations!</p>
                <div class="loading-dots">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Character Selection Screen -->
    <div class="screen hidden" id="escolhaPersonagem">
        <div class="container">
            <div class="character-selection">
                <div class="story-header">
                    <div class="lucas-avatar-small">
                        <img id="playerCharacterHead" src="shared/assets/heads/pj1Head.png" alt="Player Character">
                    </div>
                    <div class="story-text">
                        <h2 id="chooseFriendText">Choose a friend to meet!</h2>
                        <p id="friendDescription">Click on one of Uncle JoÃ£o's friends to discover how they deal with space weather! ðŸŒŸ</p>
                    </div>
                </div>
                
                <div class="characters-grid" id="charactersGrid">
                    <!-- Characters will be added dynamically as discovered -->
                </div>
                
                <button class="btn btn-secondary" onclick="voltarHistoria()">
                    <i class="fas fa-arrow-left"></i>
                    <span id="backButtonText">Back</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Conversation with The Farmer -->
    <div class="screen hidden" id="conversandoAgricultor">
        <div class="cinematic-container">
            <!-- Background scene -->
            <div class="scene-background farm-scene">
            </div>
            
            <!-- Characters in scene -->
            <div class="scene-characters">
                <div class="character-spotlight lucas-spotlight">
                    <div class="lucas-avatar-cinematic">
                        <img id="playerCharacterImage" src="shared/assets/bodies/pj1.png" alt="Player Character">
                        <div class="character-shadow"></div>
                    </div>
                </div>
                
                <div class="character-spotlight npc-spotlight">
                    <div class="npc-avatar-cinematic agricultor">
                        <img src="characters/agricultor/assets/body/agricultor.png" alt="Rosa - The Farmer">
                        <div class="character-shadow"></div>
                    </div>
                </div>
            </div>
            
            <!-- Cinematic dialogue system -->
            <div class="cinematic-dialogue-system">
                <div class="dialogue-container">
                    <div class="dialogue-box cinematic-dialogue" id="dialogueBox">
                        <div class="speaker-info">
                            <div class="speaker-avatar" id="speakerAvatar"></div>
                            <div class="speaker-name" id="speakerName">Rosa</div>
                        </div>
                        <div class="dialogue-text" id="dialogueText">
                            <span id="dialogueText">ðŸ’­ thinking...</span>
                        </div>
                        <div class="dialogue-controls">
                            <button class="continue-btn" id="continueBtn" onclick="nextDialogue()">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            
            <!-- Exit button -->
            <div class="exit-dialogue">
                <button class="btn btn-secondary" onclick="voltarEscolha()">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
            </div>
        </div>
    </div>

    <!-- Conversation with The Pilot -->
    <div class="screen hidden" id="conversandoPiloto">
        <div class="cinematic-container">
            <!-- Background scene -->
            <div class="scene-background airport-scene">
            </div>
            
            <!-- Characters in scene -->
            <div class="scene-characters">
                <div class="character-spotlight lucas-spotlight">
                    <div class="lucas-avatar-cinematic">
                        <img id="playerCharacterImage" src="shared/assets/bodies/pj1.png" alt="Player Character">
                        <div class="character-shadow"></div>
                    </div>
                </div>
                
                <div class="character-spotlight npc-spotlight">
                    <div class="npc-avatar-cinematic piloto">
                        <img src="characters/piloto/assets/body/piloto.png" alt="Carlos - The Pilot">
                        <div class="character-shadow"></div>
                    </div>
                </div>
            </div>
            
            <!-- Cinematic dialogue system -->
            <div class="cinematic-dialogue-system">
                <div class="dialogue-container">
                    <div class="dialogue-box cinematic-dialogue" id="dialogueBox">
                        <div class="speaker-info">
                            <div class="speaker-avatar" id="speakerAvatar"></div>
                            <div class="speaker-name" id="speakerName">Carlos</div>
                        </div>
                        <div class="dialogue-text" id="dialogueText">
                            <span id="dialogueText">ðŸ’­ thinking...</span>
                        </div>
                        <div class="dialogue-controls">
                            <button class="continue-btn" id="continueBtn" onclick="nextDialogue()">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dialogue progress bar -->
            <div class="dialogue-progress">
                <div class="progress-dots">
                    <div class="dot active"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
            
            <!-- Exit button -->
            <div class="exit-dialogue">
                <button class="btn btn-secondary" onclick="voltarEscolha()">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
            </div>
        </div>
    </div>

    <!-- Conversation with The Astronaut -->
    <div class="screen hidden" id="conversandoAstronauta">
        <div class="cinematic-container">
            <!-- Background scene -->
            <div class="scene-background space-scene">
            </div>
            
            <!-- Characters in scene -->
            <div class="scene-characters">
                <div class="character-spotlight lucas-spotlight">
                    <div class="lucas-avatar-cinematic">
                        <img id="playerCharacterImage" src="shared/assets/bodies/pj1.png" alt="Player Character">
                        <div class="character-shadow"></div>
                    </div>
                </div>
                
                <div class="character-spotlight npc-spotlight">
                    <div class="npc-avatar-cinematic astronauta">
                        <img src="characters/astronauta/assets/body/astronauta.png" alt="LÃºcia - The Astronaut">
                        <div class="character-shadow"></div>
                    </div>
                </div>
            </div>
            
            <!-- Cinematic dialogue system -->
            <div class="cinematic-dialogue-system">
                <div class="dialogue-container">
                    <div class="dialogue-box cinematic-dialogue" id="dialogueBox">
                        <div class="speaker-info">
                            <div class="speaker-avatar" id="speakerAvatar"></div>
                            <div class="speaker-name" id="speakerName">LÃºcia</div>
                        </div>
                        <div class="dialogue-text" id="dialogueText">
                            <span id="dialogueText">ðŸ’­ thinking...</span>
                        </div>
                        <div class="dialogue-controls">
                            <button class="continue-btn" id="continueBtn" onclick="nextDialogue()">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dialogue progress bar -->
            <div class="dialogue-progress">
                <div class="progress-dots">
                    <div class="dot active"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
            
            <!-- Exit button will be controlled dynamically by JavaScript -->
        </div>
    </div>

    <!-- Conversation with The Electrical Operator -->
    <div class="screen hidden" id="conversandoOperador">
        <div class="cinematic-container">
            <!-- Background scene -->
            <div class="scene-background power-plant-scene">
            </div>
            
            <!-- Characters in scene -->
            <div class="scene-characters">
                <div class="character-spotlight lucas-spotlight">
                    <div class="lucas-avatar-cinematic">
                        <img id="playerCharacterImage" src="shared/assets/bodies/pj1.png" alt="Player Character">
                        <div class="character-shadow"></div>
                    </div>
                </div>
                
                <div class="character-spotlight npc-spotlight">
                    <div class="npc-avatar-cinematic operador">
                        <img src="characters/operador/assets/body/operador.png" alt="Nivaldo - The Operator">
                        <div class="character-shadow"></div>
                    </div>
                </div>
            </div>
            
            <!-- Cinematic dialogue system -->
            <div class="cinematic-dialogue-system">
                <div class="dialogue-container">
                    <div class="dialogue-box cinematic-dialogue" id="dialogueBox">
                        <div class="speaker-info">
                            <div class="speaker-avatar" id="speakerAvatar"></div>
                            <div class="speaker-name" id="speakerName">Nivaldo</div>
                        </div>
                        <div class="dialogue-text" id="dialogueText">
                            <span id="dialogueText">ðŸ’­ thinking...</span>
                        </div>
                        <div class="dialogue-controls">
                            <button class="continue-btn" id="continueBtn" onclick="nextDialogue()">
                                <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dialogue progress bar -->
            <div class="dialogue-progress">
                <div class="progress-dots">
                    <div class="dot active"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
            
        </div>
    </div>

    <!-- Final Screen -->
    <div id="fim" class="screen hidden">
        <div class="final-screen">
            <!-- Blurred characters on the sides -->
            <div class="background-characters">
                <div class="blurred-character left">
                    <img src="shared/assets/bodies/pj1.png" alt="Character">
                </div>
                <div class="blurred-character right">
                    <img src="shared/assets/bodies/pj2.png" alt="Character">
                </div>
            </div>
            
            <!-- Main content centered -->
            <div class="final-content">
                <h1 class="congratulations-title" id="congratulationsTitle">Congratulations!</h1>
                <p class="congratulations-subtitle" id="congratulationsSubtitle">You completed the solar adventure!</p>
                
                <div class="friends-card">
                    <h3 class="friends-title">
                        <i class="fas fa-trophy"></i>
                        <span id="friendsTitle">Your Friends Met:</span>
                    </h3>
                    <div class="friends-grid">
                        <div class="friend-item">
                            <i class="fas fa-seedling"></i>
                            <span>Rosa - The Farmer</span>
                        </div>
                        <div class="friend-item">
                            <i class="fas fa-plane"></i>
                            <span>Carlos - The Pilot</span>
                        </div>
                        <div class="friend-item">
                            <i class="fas fa-bolt"></i>
                            <span>Nivaldo - The Operator</span>
                        </div>
                        <div class="friend-item">
                            <i class="fas fa-rocket"></i>
                            <span>LÃºcia - The Astronaut</span>
                        </div>
                    </div>
                </div>
                
                <button class="play-again-btn" onclick="reiniciarAventura()">
                    <i class="fas fa-redo"></i>
                    <span id="playAgainText">Play Again!</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Load character dialogues -->
    <script src="characters/tio-joao/dialogues/dialogues.js"></script>
    <script src="characters/agricultor/dialogues/dialogues.js"></script>
    <script src="characters/piloto/dialogues/dialogues.js"></script>
    <script src="characters/operador/dialogues/dialogues.js"></script>
    <script src="characters/astronauta/dialogues/dialogues.js"></script>
    
    <!-- Main script -->
    <script src="shared/js/script.js"></script>
</body>
</html>